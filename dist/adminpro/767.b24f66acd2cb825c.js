"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[767],{2767:(Ve,y,l)=>{l.r(y),l.d(y,{ChildRoutesModule:()=>Xe,childRoutes:()=>F});var p=l(2006),e=l(1223);let P=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"dashboard works!"),e.qZA())},encapsulation:2}),i})();var u=l(9808),a=l(2382);const H=function(i){return{"is-invalid":i}};let M=(()=>{class i{constructor(){this.progress=40,this.btnClass="btn-info",this.valorSalida=new e.vpe}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeValue(t){return this.progress>=100&&t>=0?(this.valorSalida.emit(100),this.progress=100):this.progress<=0&&t<0?(this.valorSalida.emit(0),this.progress=0):(this.progress+=t,void this.valorSalida.emit(this.progress))}onChange(t){this.progress=t>=100?100:t<=0?0:t,this.valorSalida.emit(this.progress)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-increaser"]],inputs:{progress:["valor","progress"],btnClass:"btnClass"},outputs:{valorSalida:"valorSalida"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","min","0","max","100","placeholder","Progress",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"button",2),e.NdJ("click",function(){return o.changeValue(-5)}),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(n){return o.onChange(n)})("ngModelChange",function(n){return o.progress=n}),e.qZA(),e.TgZ(5,"span",1)(6,"button",2),e.NdJ("click",function(){return o.changeValue(5)}),e._UZ(7,"i",5),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",o.btnClass),e.xp6(2),e.Q6J("ngModel",o.progress)("ngClass",e.VKq(4,H,o.progress>100||o.progress<0)),e.xp6(2),e.Q6J("ngClass",o.btnClass))},directives:[u.mk,a.qQ,a.Fd,a.wV,a.Fj,a.JJ,a.On],encapsulation:2}),i})(),Y=(()=>{class i{constructor(){this.progreso1=25,this.progreso2=35}get getProgreso1(){return`${this.progreso1}%`}get getProgreso2(){return`${this.progreso2}%`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-progess-bar"]],decls:23,vars:10,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-30"],["role","progressbar",1,"progress-bar","bg-info","active","progress-bar-striped",2,"height","15px"],["role","progressbar",1,"progress-bar","bg-success","active","progress-bar-striped",2,"height","15px"],[1,"col-6"],["caption","Progress azul",3,"btnClass","valor","valorSalida"],["caption","Progress verde",3,"btnClass","valor","valorSalida"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Animated Striped bar "),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",5)(11,"div",7)(12,"span"),e._uU(13),e.qZA()()()()()()(),e.TgZ(14,"div",0)(15,"div",8)(16,"div",2)(17,"div",3)(18,"app-increaser",9),e.NdJ("valorSalida",function(n){return o.progreso1=n}),e.qZA()()()(),e.TgZ(19,"div",8)(20,"div",2)(21,"div",3)(22,"app-increaser",10),e.NdJ("valorSalida",function(n){return o.progreso2=n}),e.qZA()()()()()),2&t&&(e.xp6(7),e.Udp("width",o.getProgreso1),e.xp6(2),e.hij("",o.progreso1,"% Complete"),e.xp6(2),e.Udp("width",o.getProgreso2),e.xp6(2),e.hij("",o.progreso2,"% Complete"),e.xp6(5),e.Q6J("btnClass","btn-info")("valor",o.progreso1),e.xp6(4),e.Q6J("btnClass","btn-success")("valor",o.progreso2))},directives:[M],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:myanimation;transition:5s all}@keyframes myanimation{0%{width:0}}"]}),i})();var O=l(4829);let $=(()=>{class i{constructor(){this.title="Without title",this.doughnutChartLabels=["Label1","Label2","Label3"],this.doughnutChartData=[[350,450,100]],this.colors=[{backgroundColor:["#EA3300","#00D586","#3F8BFC"]}]}chartClicked({event:t,active:o}){console.log(t,o)}chartHovered({event:t,active:o}){console.log(t,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dona"]],inputs:{title:"title",doughnutChartLabels:["labels","doughnutChartLabels"],doughnutChartData:["data","doughnutChartData"]},decls:6,vars:4,consts:[[1,"card"],[1,"card-body"],[1,"d-block"],["baseChart","","chartType","doughnut",3,"data","labels","colors"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"canvas",3),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(o.title),e.xp6(2),e.Q6J("data",o.doughnutChartData)("labels",o.doughnutChartLabels)("colors",o.colors))},directives:[O.jh],encapsulation:2}),i})(),Q=(()=>{class i{constructor(){this.labels1=["Verduras","Frutas","Granos"],this.data1=[[40,30,20]]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-graph1"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-lg-6","col-12"],["title","Ventas"],["title","Compras",3,"labels","data"],["title","Pedidos"],["title","Devoluciones"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-dona",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-dona",3),e.qZA()(),e.TgZ(5,"div",0)(6,"div",1),e._UZ(7,"app-dona",4),e.qZA(),e.TgZ(8,"div",1),e._UZ(9,"app-dona",5),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("labels",o.labels1)("data",o.data1))},directives:[$],encapsulation:2}),i})();var B=l(9449);let E=(()=>{class i{constructor(t){this.settingsService=t}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme","working",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Seleccione el tema"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"ul",5)(8,"li")(9,"b"),e._uU(10,"Con el sidebar claro"),e.qZA()(),e.TgZ(11,"li")(12,"a",6),e.NdJ("click",function(){return o.changeTheme("default")}),e._uU(13,"1"),e.qZA()(),e.TgZ(14,"li")(15,"a",7),e.NdJ("click",function(){return o.changeTheme("green")}),e._uU(16,"2"),e.qZA()(),e.TgZ(17,"li")(18,"a",8),e.NdJ("click",function(){return o.changeTheme("red")}),e._uU(19,"3"),e.qZA()(),e.TgZ(20,"li")(21,"a",9),e.NdJ("click",function(){return o.changeTheme("blue")}),e._uU(22,"4"),e.qZA()(),e.TgZ(23,"li")(24,"a",10),e.NdJ("click",function(){return o.changeTheme("purple")}),e._uU(25,"5"),e.qZA()(),e.TgZ(26,"li")(27,"a",11),e.NdJ("click",function(){return o.changeTheme("megna")}),e._uU(28,"6"),e.qZA()(),e.TgZ(29,"li",12)(30,"b"),e._uU(31,"Con el sidebar oscuro"),e.qZA()(),e.TgZ(32,"li")(33,"a",13),e.NdJ("click",function(){return o.changeTheme("default-dark")}),e._uU(34,"7"),e.qZA()(),e.TgZ(35,"li")(36,"a",14),e.NdJ("click",function(){return o.changeTheme("green-dark")}),e._uU(37,"8"),e.qZA()(),e.TgZ(38,"li")(39,"a",15),e.NdJ("click",function(){return o.changeTheme("red-dark")}),e._uU(40,"9"),e.qZA()(),e.TgZ(41,"li")(42,"a",16),e.NdJ("click",function(){return o.changeTheme("blue-dark")}),e._uU(43,"10"),e.qZA()(),e.TgZ(44,"li")(45,"a",17),e.NdJ("click",function(){return o.changeTheme("purple-dark")}),e._uU(46,"11"),e.qZA()(),e.TgZ(47,"li")(48,"a",18),e.NdJ("click",function(){return o.changeTheme("megna-dark")}),e._uU(49,"12"),e.qZA()()()()()()()())},encapsulation:2}),i})(),G=(()=>{class i{constructor(){}ngOnInit(){this.getUsuarios().then(t=>{console.log(t)})}getUsuarios(){return new Promise(t=>{fetch("https://reqres.in/api/users").then(o=>o.json()).then(o=>t(o.data))})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-promesas"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"promesas works!"),e.qZA())},encapsulation:2}),i})();var q=l(8306),j=l(727);class R extends j.w0{constructor(r,t){super()}schedule(r,t=0){return this}}const _={setInterval(...i){const{delegate:r}=_;return((null==r?void 0:r.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:r}=_;return((null==r?void 0:r.clearInterval)||clearInterval)(i)},delegate:void 0};var X=l(8737);const k={now:()=>(k.delegate||Date).now(),delegate:void 0};class h{constructor(r,t=h.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,o){return new this.schedulerActionCtor(this,r).schedule(o,t)}}h.now=k.now;const A=new class V extends h{constructor(r,t=h.now){super(r,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let o;this._active=!0;do{if(o=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,o){for(;r=t.shift();)r.unsubscribe();throw o}}}(class z extends R{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){if(this.closed)return this;this.state=r;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(r,t,o=0){return _.setInterval(r.flush.bind(r,this),o)}recycleAsyncId(r,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;_.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(r,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let s,o=!1;try{this.work(r)}catch(n){o=!0,s=n||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(o,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}}),K=A;var W=l(3532);function I(i=0,r,t=K){let o=-1;return null!=r&&((0,W.K)(r)?t=r:o=r),new q.y(s=>{let n=function ee(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;n<0&&(n=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=o?this.schedule(void 0,o):s.complete())},n)})}var x=l(5698),m=l(4004),oe=l(9300);let ie=(()=>{class i{constructor(){this.internalSubs=this.retornaIntervalo().subscribe(console.log)}ngOnInit(){}ngOnDestroy(){this.internalSubs.unsubscribe()}retornaObservable(){let t=-1;return new q.y(o=>{const s=setInterval(()=>{t++,o.next(t),4===t&&(clearInterval(s),o.complete()),2===t&&o.error("i lleg\xf3 al valor de 2")},1e3)})}retornaIntervalo(){return function te(i=0,r=A){return i<0&&(i=0),I(i,i,r)}(100).pipe((0,x.q)(10),(0,m.U)(t=>t+1),(0,oe.h)(t=>t%2==0))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"rxjs works!"),e.qZA())},encapsulation:2}),i})();var re=l(5226),c=l.n(re),U=l(1e3),se=l(9012);function ne(i,r){if(1&i&&e._UZ(0,"img",23),2&i){const t=e.oxw();e.Q6J("src",t.user.showImageUrl,e.LSH)}}function ae(i,r){if(1&i&&e._UZ(0,"img",23),2&i){const t=e.oxw();e.Q6J("src",t.imagePreview,e.LSH)}}let le=(()=>{class i{constructor(t,o,s){this.fb=t,this.userService=o,this.uploadFileService=s,this.imagePreview=null,this.user=o.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,a.kI.required],email:[this.user.email,[a.kI.required,a.kI.email]]})}updateProfile(){this.userService.updateUserProfile(this.profileForm.value).subscribe(t=>{const{name:o,email:s}=t.user;this.user.name=o,this.user.email=s,c().fire("Saved","Profile was successfully updated","success")},t=>{c().fire("Error",t.error.msg,"error"),console.log(t.error.msg)})}uploadImage(){this.uploadFileService.updatePhoto(this.imageToUpload,"usuario",this.user.uid).then(t=>{this.user.image=t,c().fire("Saved","User image was successfully updated","success")}).catch(t=>{c().fire("Error",t.error.msg,"error"),console.log(t.error.msg)})}changeImage(t){if(this.imageToUpload=t,!t)return this.imagePreview=null;const o=new FileReader;o.readAsDataURL(t),o.onloadend=()=>{this.imagePreview=o.result}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(U.K),e.Y36(se.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-profile"]],decls:42,vars:6,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","User name","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center","rounded","mb-2"],["class","img-avatar","alt","",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"fa","fa-upload"],["alt","",1,"img-avatar",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"My profile"),e.qZA(),e.TgZ(6,"h6",5),e._uU(7,"User settings"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return o.updateProfile()}),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"User Name"),e.qZA(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"i",11),e.qZA(),e._UZ(15,"input",12),e.qZA()(),e.TgZ(16,"div",7)(17,"label",13),e._uU(18,"Email address"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10),e._UZ(21,"i",14),e.qZA(),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"button",16),e._UZ(24,"i",17),e._uU(25," Save "),e.qZA()()()()(),e.TgZ(26,"div",1)(27,"div",2)(28,"div",3)(29,"h4",4),e._uU(30,"Avatar"),e.qZA(),e.TgZ(31,"h6",5),e._uU(32,"User image"),e.qZA(),e.TgZ(33,"div",18),e.YNc(34,ne,1,1,"img",19),e.YNc(35,ae,1,1,"img",19),e.qZA(),e.TgZ(36,"input",20),e.NdJ("change",function(n){return o.changeImage(n.target.files[0])}),e.qZA(),e._UZ(37,"br")(38,"br"),e.TgZ(39,"button",21),e.NdJ("click",function(){return o.uploadImage()}),e._UZ(40,"i",22),e._uU(41," Upload "),e.qZA()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.profileForm),e.xp6(14),e.Q6J("readOnly",o.user.google),e.xp6(1),e.Q6J("disabled",o.profileForm.invalid),e.xp6(11),e.Q6J("ngIf",!o.imagePreview),e.xp6(1),e.Q6J("ngIf",o.imagePreview),e.xp6(4),e.Q6J("disabled",!o.imageToUpload))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,u.O5],styles:[""]}),i})();var ce=l(7272),de=l(4482),ue=l(5403),pe=l(5032),ge=l(5577);function J(i,r){return r?t=>(0,ce.z)(r.pipe((0,x.q)(1),function me(){return(0,de.e)((i,r)=>{i.subscribe((0,ue.x)(r,pe.Z))})}()),t.pipe(J(i))):(0,ge.z)((t,o)=>i(t,o).pipe((0,x.q)(1),function he(i){return(0,m.U)(()=>i)}(t)))}function g(i,r=A){const t=I(i,r);return J(()=>t)}var v=l(4766),fe=l(7641),w=l(520);const N=v.N.apiUrl;let b=(()=>{class i{constructor(t,o){this.http=t,this.router=o}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformedUsersList(t){return t.map(o=>new fe.T(o.name,o.email,"",o.image,o.google,o.role,o.uid))}transformedHospitalsList(t){return t}transformedDoctorsList(t){return t}search(t,o=""){return this.http.get(`${N}/search/collection/${t}/${o}`,this.headers).pipe((0,m.U)(n=>{switch(t){case"usuario":return this.transformedUsersList(n.results);case"hospital":return this.transformedHospitalsList(n.results);case"doctor":return this.transformedDoctorsList(n.results);default:return[]}}))}searchAll(t=""){return this.http.get(`${N}/search/${t}`,this.headers)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(w.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=l(5112);function _e(i,r){1&i&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"h4",13),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",14),e.TgZ(6,"p",15),e._uU(7,"Please wait.."),e.qZA()()()())}function ve(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(-5)}),e.TgZ(2,"i",27),e._uU(3," Previous"),e.qZA()(),e.TgZ(4,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(5)}),e._uU(5,"Next "),e._UZ(6,"i",29),e.qZA()()}}function be(i,r){1&i&&(e.TgZ(0,"span",40),e._uU(1,"Google"),e.qZA())}function Ze(i,r){1&i&&(e.TgZ(0,"span",41),e._uU(1,"Email"),e.qZA())}function Te(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",30)(2,"img",31),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).openModal(n)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"select",32),e.NdJ("ngModelChange",function(s){return e.CHM(t).$implicit.role=s})("change",function(){const n=e.CHM(t).$implicit;return e.oxw(2).changeRole(n)}),e.TgZ(9,"option",33),e._uU(10,"Admin"),e.qZA(),e.TgZ(11,"option",34),e._uU(12,"User"),e.qZA()()(),e.TgZ(13,"td"),e.YNc(14,be,2,0,"span",35),e.YNc(15,Ze,2,0,"span",36),e.qZA(),e.TgZ(16,"td",37)(17,"a",38),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).onDelete(n)}),e._UZ(18,"i",39),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.showImageUrl,e.LSH),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngModel",t.role),e.xp6(6),e.Q6J("ngIf",t.google),e.xp6(1),e.Q6J("ngIf",!t.google)}}function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(-5)}),e.TgZ(2,"i",27),e._uU(3," Previous"),e.qZA()(),e.TgZ(4,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(5)}),e._uU(5,"Next "),e._UZ(6,"i",29),e.qZA()()}}function Ae(i,r){if(1&i&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",16),e._uU(5,"Total users "),e.TgZ(6,"span",17),e._uU(7),e.qZA()(),e.TgZ(8,"h6",18),e._uU(9,"Registered users"),e.qZA(),e.YNc(10,ve,7,0,"div",19),e.TgZ(11,"div",20)(12,"table",21)(13,"thead")(14,"tr")(15,"th",22),e._uU(16,"Image"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Name"),e.qZA(),e.TgZ(21,"th",23),e._uU(22,"Role"),e.qZA(),e.TgZ(23,"th",22),e._uU(24,"Auth"),e.qZA(),e.TgZ(25,"th",24),e._uU(26,"Actions"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,Te,19,6,"tr",25),e.qZA()()(),e.YNc(29,Ce,7,0,"div",19),e.qZA()()()()),2&i){const t=e.oxw(),o=e.MAs(9);e.xp6(7),e.hij(" ",t.totalUsers," "),e.xp6(3),e.Q6J("ngIf",0===o.value.length),e.xp6(18),e.Q6J("ngForOf",t.users),e.xp6(1),e.Q6J("ngIf",0===o.value.length)}}let xe=(()=>{class i{constructor(t,o,s){this.userService=t,this.searchesService=o,this.modalService=s,this.totalUsers=0,this.users=[],this.usersTemp=[],this.actualPage=0,this.isLoading=!0}ngOnInit(){this.updateUsersList(),this.imageSubscription=this.modalService.newImageEvent.pipe(g(100)).subscribe(t=>this.updateUsersList())}ngOnDestroy(){this.imageSubscription.unsubscribe()}updateUsersList(){this.isLoading=!0,this.userService.uploadUsers(this.actualPage).subscribe({next:({total:t,usuario:o})=>{this.totalUsers=t,0!==o.length&&(this.users=o,this.usersTemp=o,this.isLoading=!1)}})}changePage(t){this.actualPage+=t,this.actualPage<0?this.actualPage=0:this.actualPage>=this.totalUsers&&(this.actualPage-=t),this.updateUsersList()}searchByTerm(t){if(0===t.length)return this.users=this.usersTemp;this.searchesService.search("usuario",t).subscribe({next:o=>{this.users=o}})}onDelete(t){if(t.uid===this.userService.uid)return c().fire({title:"Don't allowed",html:"<b>You can't delete yourself </b>",icon:"info"});c().fire({title:"Are you sure?",html:`This action will delete the user <b>${t.name}</b>. You won't be able to revert this!`,icon:"question",showCancelButton:!0,focusConfirm:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&this.userService.delete(t).subscribe(s=>{c().fire("Deleted!",`the user <b>${t.name}</b> has been deleted.`,"success"),this.updateUsersList()})})}changeRole(t){this.userService.updateUser(t).subscribe(o=>{console.log(o)})}openModal(t){this.modalService.showModal("usuario",t.uid,t.image)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U.K),e.Y36(b),e.Y36(Z.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-search"],["type","text","id","exampleInputuname","placeholder","Search username...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animate animated fadeIn slow",4,"ngIf"],[1,"row","animate","animated","fadeIn","slow"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-1"],[1,"card-subtitle"],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"table-row-w100"],[1,"w140"],[1,"text-nowrap","table-row-w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","m-r-10",3,"click"],[1,"fa","fa-arrow-left"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-arrow-right"],[1,"text-center"],["alt","User avatar",1,"avatar","pointer",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger w-",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"pointer",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"label","label-danger","w-"],[1,"label","label-info"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"input",8,9),e.NdJ("keyup",function(){e.CHM(s);const d=e.MAs(9);return o.searchByTerm(d.value)}),e.qZA()()()()()()(),e.YNc(10,_e,8,0,"div",10),e.YNc(11,Ae,30,4,"div",10)}2&t&&(e.xp6(10),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[u.O5,u.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr],styles:[""]}),i})();var Ue=l(655);const T=v.N.apiUrl;let D=(()=>{class i{constructor(t,o){this.http=t,this.router=o}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}uploadHospital(){return this.http.get(`${T}/hospital`,this.headers).pipe((0,m.U)(o=>o.hospital))}add(t){return this.http.post(`${T}/hospital`,{name:t},this.headers).pipe((0,m.U)(s=>s.hospital))}edit(t,o){return this.http.put(`${T}/hospital/${t}`,{name:o},this.headers).pipe((0,m.U)(n=>n.hospital))}delete(t){return this.http.delete(`${T}/hospital/${t}`,this.headers)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(w.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const S=v.N.apiUrl;let C=(()=>{class i{transform(t,o){return t?t?`${S}/uploads/${o}/${t}`:t.includes("https")||t.includes("http")?t:`${S}/uploads/usuario/noimage`:`${S}/uploads/usuario/noimage`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"imagePipe",type:i,pure:!0}),i})();function we(i,r){1&i&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"h4",13),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",14),e.TgZ(6,"p",15),e._uU(7,"Please wait.."),e.qZA()()()())}function Se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",33)(2,"img",34),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).openModal(n)}),e.ALo(3,"imagePipe"),e.qZA()(),e.TgZ(4,"td")(5,"input",35),e.NdJ("ngModelChange",function(s){return e.CHM(t).$implicit.name=s}),e.qZA()(),e.TgZ(6,"td",36)(7,"a",37),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).editHospital(n)}),e._UZ(8,"i",38),e.qZA(),e.TgZ(9,"a",39),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).deleteHospital(n)}),e._UZ(10,"i",40),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",e.xi3(3,3,t.image,"hospital"),e.LSH)("alt",t.name),e.xp6(3),e.Q6J("ngModel",t.name)}}function ye(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",16)(6,"h4",17),e._uU(7,"Total Hospitals "),e.TgZ(8,"span",18),e._uU(9),e.qZA()(),e.TgZ(10,"h6",19),e._uU(11,"Registered Hospitals"),e.qZA()(),e.TgZ(12,"div",20)(13,"div",21)(14,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().openSweetAlertAddNew()}),e.TgZ(15,"i",23),e._uU(16," Add New"),e.qZA()()()()(),e.TgZ(17,"div",24)(18,"table",25)(19,"thead")(20,"tr")(21,"th",26),e._uU(22,"Image"),e.qZA(),e.TgZ(23,"th"),e._uU(24," Name "),e.qZA(),e.TgZ(25,"th",27),e._uU(26,"Actions"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,Se,11,6,"tr",28),e.qZA()()(),e.TgZ(29,"button",29)(30,"i",30),e._uU(31," Previous"),e.qZA()(),e.TgZ(32,"button",31),e._uU(33,"Next "),e._UZ(34,"i",32),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.hij(" ",t.hospitals.length," "),e.xp6(19),e.Q6J("ngForOf",t.hospitals)}}let qe=(()=>{class i{constructor(t,o,s){this.hospitalService=t,this.modalService=o,this.searchesService=s,this.isLoading=!0,this.hospitals=[],this.hospitalsTemp=[]}ngOnDestroy(){this.imageSubscription.unsubscribe()}ngOnInit(){this.updateHospitalsList(),this.imageSubscription=this.modalService.newImageEvent.pipe(g(100)).subscribe(t=>this.updateHospitalsList())}searchByTerm(t){if(0===t.length)return this.hospitals=this.hospitalsTemp;this.searchesService.search("hospital",t).subscribe({next:o=>{this.hospitals=o}})}updateHospitalsList(){this.isLoading=!0,this.hospitalService.uploadHospital().subscribe({next:t=>{this.hospitals=t,this.hospitalsTemp=t,this.isLoading=!1}})}openSweetAlertAddNew(){return(0,Ue.mG)(this,void 0,void 0,function*(){const{value:t=""}=yield c().fire({title:"Add new Hospital",input:"text",html:"<b>Hospital Name</b>",inputPlaceholder:"Enter the Hospital Name",showCancelButton:!0,allowOutsideClick:!1,inputValidator:o=>{if(!o)return"You need to write some hospital name!"}});t.trim().length>0&&this.addHospital(t)})}addHospital(t){this.hospitalService.add(t).subscribe({next:o=>{c().fire({title:"Added!",html:`<b>${o.name}</b>`,icon:"success",showConfirmButton:!1,timer:1500}),this.updateHospitalsList()},error:o=>{console.log(o),c().fire("Error",o.error.msg,"error")}})}editHospital(t){this.hospitalService.edit(t.id,t.name).subscribe({next:o=>{console.log(o),c().fire({title:"Updated",html:`<b>${o.name}</b>`,icon:"success"})},error:o=>{console.log(o),c().fire("Error",o.error.msg,"error")}})}deleteHospital(t){c().fire({title:"Are you sure?",html:`This action will delete the hospital <b>${t.name}</b>. You won't be able to revert this!`,icon:"question",showCancelButton:!0,focusConfirm:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&this.hospitalService.delete(t.id).subscribe({next:s=>{console.log(s),c().fire({title:`${t.name}`,html:`<b>${s.msg}</b>`,icon:"success",showConfirmButton:!1,timer:1500}),this.updateHospitalsList()},error:s=>{console.log(s),c().fire("Error",s.error.msg,"error")}})})}openModal(t){this.modalService.showModal("hospital",t.id,t.image)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D),e.Y36(Z.Z),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospitals"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-search"],["type","text","id","exampleInputuname","placeholder","Search hospital...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animate animated fadeIn slow",4,"ngIf"],[1,"row","animate","animated","fadeIn","slow"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"col-8"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-1"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],[1,"btn","btn-primary","m-t-5","m-b-10",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"table-row-w100"],[1,"text-nowrap","table-row-w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","m-r-10"],[1,"fa","fa-arrow-left"],[1,"btn","btn-secondary"],[1,"fa","fa-arrow-right"],[1,"text-center"],[1,"img-fluid","pointer",3,"src","alt","click"],["type","text","placeholder","Hospital name",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Save",1,"pointer",3,"click"],[1,"fa","fa-pencil","text-primary","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"pointer",3,"click"],[1,"fa","fa-trash","text-danger"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"input",8,9),e.NdJ("keyup",function(){e.CHM(s);const d=e.MAs(9);return o.searchByTerm(d.value)}),e.qZA()()()()()()(),e.YNc(10,we,8,0,"div",10),e.YNc(11,ye,35,2,"div",10)}2&t&&(e.xp6(10),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[u.O5,u.sg,a.Fj,a.JJ,a.On],pipes:[C],styles:[""]}),i})();const f=v.N.apiUrl;let L=(()=>{class i{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}listDoctors(){return this.http.get(`${f}/doctor`,this.headers).pipe((0,m.U)(o=>o.doctor))}getDoctorById(t){return this.http.get(`${f}/doctor/${t}`,this.headers).pipe((0,m.U)(s=>s.doctor))}add(t){return this.http.post(`${f}/doctor`,t,this.headers)}edit(t){return this.http.put(`${f}/doctor/${t.id}`,t,this.headers)}delete(t){return this.http.delete(`${f}/doctor/${t}`,this.headers)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(w.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ke(i,r){1&i&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"h4",13),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",14),e.TgZ(6,"p",15),e._uU(7,"Please wait.."),e.qZA()()()())}const Ie=function(i){return["/dashboard","doctors",i]};function Je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",33)(2,"img",34),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).openModal(n)}),e.ALo(3,"imagePipe"),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",35)(7,"a",36),e._UZ(8,"i",37),e.qZA(),e.TgZ(9,"a",38),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(2).deleteDoctor(n)}),e._UZ(10,"i",39),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",e.xi3(3,4,t.image,"doctor"),e.LSH)("alt",t.name),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Q6J("routerLink",e.VKq(7,Ie,t.id))}}function Ne(i,r){if(1&i&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",16)(6,"h4",17),e._uU(7,"Total Doctors "),e.TgZ(8,"span",18),e._uU(9),e.qZA()(),e.TgZ(10,"h6",19),e._uU(11,"Registered Doctors"),e.qZA()(),e.TgZ(12,"div",20)(13,"div",21)(14,"a",22)(15,"i",23),e._uU(16," Add New"),e.qZA()()()()(),e.TgZ(17,"div",24)(18,"table",25)(19,"thead")(20,"tr")(21,"th",26),e._uU(22,"Image"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"th",27),e._uU(26,"Actions"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,Je,11,9,"tr",28),e.qZA()()(),e.TgZ(29,"button",29)(30,"i",30),e._uU(31," Previous"),e.qZA()(),e.TgZ(32,"button",31),e._uU(33,"Next "),e._UZ(34,"i",32),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(9),e.hij(" ",t.doctors.length," "),e.xp6(19),e.Q6J("ngForOf",t.doctors)}}let De=(()=>{class i{constructor(t,o,s){this.doctorService=t,this.searchesService=o,this.modalService=s,this.isLoading=!0,this.doctors=[],this.doctorsTemp=[]}ngOnDestroy(){this.imageSubscription.unsubscribe()}ngOnInit(){this.updateDoctorsList(),this.imageSubscription=this.modalService.newImageEvent.pipe(g(100)).subscribe(t=>this.updateDoctorsList())}searchByTerm(t){if(0===t.length)return this.doctors=this.doctorsTemp;this.searchesService.search("doctor",t).subscribe({next:o=>{this.doctors=o}})}updateDoctorsList(){this.isLoading=!0,this.doctorService.listDoctors().subscribe({next:t=>{this.doctors=t,this.doctorsTemp=t,this.isLoading=!1}})}deleteDoctor(t){c().fire({title:"Are you sure?",html:`This action will delete the Doctor <b>${t.name}</b>. You won't be able to revert this!`,icon:"question",showCancelButton:!0,focusConfirm:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&this.doctorService.delete(t.id).subscribe({next:s=>{console.log(s),c().fire({title:"Deleted!",html:`<b>${t.name} - ${s.msg}</b>`,icon:"success",showConfirmButton:!1,timer:1500}),this.updateDoctorsList()},error:s=>{console.log(s),c().fire("Error",s.error.msg,"error")}})})}openModal(t){this.modalService.showModal("doctor",t.id,t.image)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L),e.Y36(b),e.Y36(Z.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-doctors"]],decls:12,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-search"],["type","text","id","exampleInputuname","placeholder","Search doctor...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animate animated fadeIn slow",4,"ngIf"],[1,"row","animate","animated","fadeIn","slow"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"col-8"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-1"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/dashboard/doctors/new",1,"btn","btn-primary","m-t-5","m-b-10"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"table-row-w100"],[1,"text-nowrap","table-row-w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","m-r-10"],[1,"fa","fa-arrow-left"],[1,"btn","btn-secondary"],[1,"fa","fa-arrow-right"],[1,"text-center"],[1,"img-fluid","pointer",3,"src","alt","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"pointer",3,"click"],[1,"fa","fa-trash","text-danger"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"input",8,9),e.NdJ("keyup",function(){e.CHM(s);const d=e.MAs(9);return o.searchByTerm(d.value)}),e.qZA()()()()()()(),e.YNc(10,ke,8,0,"div",10),e.YNc(11,Ne,35,2,"div",10)}2&t&&(e.xp6(10),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[u.O5,p.yS,u.sg],pipes:[C],styles:[""]}),i})();function Le(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"label",8),e._uU(2,"Photo"),e.qZA(),e.TgZ(3,"div",9)(4,"div",24)(5,"img",25),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.openModal(s.doctorSelected)}),e.ALo(6,"imagePipe"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("src",e.xi3(6,1,t.doctorSelected.image,"doctor"),e.LSH)}}function Fe(i,r){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Pe(i,r){if(1&i&&(e.TgZ(0,"div",27)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Hospital"),e.qZA(),e.TgZ(5,"h6",28),e._uU(6),e.qZA(),e.TgZ(7,"figure",24),e._UZ(8,"img",29),e.ALo(9,"imagePipe"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(6),e.Oqu(t.selectedHospital.name),e.xp6(2),e.Q6J("src",e.xi3(9,2,t.selectedHospital.image,"hospital"),e.LSH)}}let He=(()=>{class i{constructor(t,o,s,n,d,ze){this.fb=t,this.hospitalService=o,this.doctorService=s,this.router=n,this.modalService=d,this.activatedRoute=ze,this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:t})=>this.loadDoctor(t)),this.doctorForm=this.fb.group({name:["",a.kI.required],hospital:["",a.kI.required]}),this.loadHospitalsList(),this.doctorForm.get("hospital").valueChanges.subscribe(t=>{this.selectedHospital=this.hospitals.find(o=>o.id===t)}),this.imageSubscription=this.modalService.newImageEvent.pipe(g(100)).subscribe(t=>this.loadDoctor(this.doctorSelected.id))}ngOnDestroy(){this.imageSubscription.unsubscribe()}loadDoctor(t){if("new"!==t){if(!t.match(/^[0-9a-fA-F]{24}$/))return this.router.navigateByUrl("/dashboard/doctors");this.doctorService.getDoctorById(t).pipe(g(100)).subscribe({next:o=>{const{name:s,hospital:{_id:n}}=o;this.doctorSelected=o,this.doctorForm.setValue({name:s,hospital:n})}})}}loadHospitalsList(){this.hospitalService.uploadHospital().subscribe({next:t=>{this.hospitals=t}})}addDoctor(){const{name:t}=this.doctorForm.value;if(this.doctorSelected){const o=Object.assign(Object.assign({},this.doctorForm.value),{id:this.doctorSelected.id});console.log(o),this.doctorService.edit(o).subscribe({next:s=>{console.log(s),c().fire({title:"Edited!",html:`<b>${t}</b>`,icon:"success",showConfirmButton:!1,timer:1500}),this.doctorSelected=s,this.router.navigateByUrl(`/dashboard/doctors/${s.doctor.id}`)},error:s=>{console.log(s),c().fire("Error",s.message,"error")}})}else this.doctorService.add(this.doctorForm.value).subscribe({next:o=>{c().fire({title:"Added!",html:`<b>${t}</b>`,icon:"success",showConfirmButton:!1,timer:1500}),this.doctorSelected=o,this.router.navigateByUrl(`/dashboard/doctors/${o.doctor.id}`)},error:o=>{console.log(o),c().fire("Error",o.error.msg,"error")}})}goToBack(){this.router.navigateByUrl("/dashboard/doctors")}openModal(t){this.modalService.showModal("doctor",t.id,t.image)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(D),e.Y36(L),e.Y36(p.F0),e.Y36(Z.Z),e.Y36(p.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-doctor-details"]],decls:34,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","doctorName",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","formControlName","name","id","doctorName","placeholder","Doctor name",1,"form-control"],["for","hospitalName",1,"col-sm-3","control-label"],[1,"fa","fa-hospital-o"],["id","hospitalName","formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","waves-effect","waves-light","m-r-10",3,"click"],[1,"fa","fa-chevron-left"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["class","col",4,"ngIf"],[1,"text-center"],["alt","",1,"w140","img-fluid","pointer","img-thumbnail",3,"src","click"],[3,"value"],[1,"col"],[1,"card-subtitle"],["alt","",1,"img-fluid","img-thumbnail",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Doctor information"),e.qZA(),e.TgZ(6,"form",5),e.NdJ("submit",function(){return o.addDoctor()}),e.YNc(7,Le,7,4,"div",6),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Doctor"),e.qZA(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11),e._UZ(14,"i",12),e.qZA(),e._UZ(15,"input",13),e.qZA()()(),e.TgZ(16,"div",7)(17,"label",14),e._uU(18,"Hospital"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10)(21,"div",11),e._UZ(22,"i",15),e.qZA(),e.TgZ(23,"select",16)(24,"option",17),e._uU(25," Select a hospital..."),e.qZA(),e.YNc(26,Fe,2,2,"option",18),e.qZA()()()(),e.TgZ(27,"button",19),e.NdJ("click",function(){return o.goToBack()}),e._UZ(28,"i",20),e._uU(29," Back "),e.qZA(),e.TgZ(30,"button",21),e._UZ(31,"i",22),e._uU(32," Save "),e.qZA()()()()(),e.YNc(33,Pe,10,5,"div",23),e.qZA()),2&t&&(e.xp6(6),e.Q6J("formGroup",o.doctorForm),e.xp6(1),e.Q6J("ngIf",o.doctorSelected),e.xp6(19),e.Q6J("ngForOf",o.hospitals),e.xp6(4),e.Q6J("disabled",o.doctorForm.invalid),e.xp6(3),e.Q6J("ngIf",o.selectedHospital))},directives:[a._Y,a.JL,a.sg,u.O5,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,u.sg],pipes:[C],styles:[""]}),i})();function Me(i,r){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"p"),e.TgZ(2,"p",4),e._uU(3,"No users found"),e.qZA()())}function Ye(i,r){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"p"),e.TgZ(2,"p",4),e._uU(3,"No doctors found"),e.qZA()())}function Oe(i,r){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"p"),e.TgZ(2,"p",4),e._uU(3,"No hospitals found"),e.qZA()())}function $e(i,r){if(1&i&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"imagePipe"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",e.xi3(3,3,t.image,"usuario"),e.LSH)("alt",t.name),e.xp6(3),e.Oqu(t.name)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h3"),e._uU(4,"Users"),e.qZA(),e.TgZ(5,"div",8)(6,"table",9)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Name"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,$e,6,6,"tr",10),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.users)}}const Be=function(){return["/dashboard/doctors/","doctor.id"]};function Ee(i,r){if(1&i&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"imagePipe"),e.qZA(),e.TgZ(4,"td")(5,"a",14),e._uU(6),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",e.xi3(3,4,t.image,"doctor"),e.LSH)("alt",t.name),e.xp6(3),e.Q6J("routerLink",e.DdM(7,Be)),e.xp6(1),e.Oqu(t.name)}}function Ge(i,r){if(1&i&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h3"),e._uU(4,"Doctors"),e.qZA(),e.TgZ(5,"div",8)(6,"table",13)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Name"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Ee,7,8,"tr",10),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.doctors)}}function je(i,r){if(1&i&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"imagePipe"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Q6J("src",e.xi3(3,3,t.image,"hospital"),e.LSH)("alt",t.name),e.xp6(3),e.Oqu(t.name)}}function Re(i,r){if(1&i&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h3"),e._uU(4,"Hospitals"),e.qZA(),e.TgZ(5,"div",8)(6,"table",15)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Name"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,je,6,6,"tr",10),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.hospitals)}}const F=[{path:"",component:P,data:{title:"Dashboard"}},{path:"account-settings",component:E,data:{title:"Account Settings"}},{path:"graph1",component:Q,data:{title:"Graph #1"}},{path:"profile",component:le,data:{title:"Profile"}},{path:"progress",component:Y,data:{title:"Progess Bar"}},{path:"promesas",component:G,data:{title:"Promesas"}},{path:"rxjs",component:ie,data:{title:"Rxjs"}},{path:"search/:term",component:(()=>{class i{constructor(t,o,s){this.activatedRoute=t,this.searchesService=o,this.router=s,this.doctors=[],this.hospitals=[],this.users=[]}ngOnInit(){this.activatedRoute.params.subscribe(({term:t})=>this.onSearchAll(t))}onSearchAll(t){this.searchesService.searchAll(t).subscribe({next:o=>{this.doctors=o.doctors,this.hospitals=o.hospitals,this.users=o.usuarios,console.log(this.users)},error:o=>{console.log(o)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(b),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-global-search"]],decls:7,vars:6,consts:[["class","alert alert-info animated fadeIn slow",4,"ngIf"],[1,"row","animated","fadeIn"],["class","col",4,"ngIf"],[1,"alert","alert-info","animated","fadeIn","slow"],[1,"mb-0"],[1,"col"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","table-sm","full-color-table","full-purple-table","color-bordered-table","purple-bordered-table"],["class","animated slideInLeft slow",4,"ngFor","ngForOf"],[1,"animated","slideInLeft","slow"],[1,"img-fluid","w100",3,"src","alt"],[1,"table","table-hover","table-sm","full-color-table","full-success-table","color-bordered-table","success-bordered-table"],[3,"routerLink"],[1,"table","table-hover","table-sm","full-color-table","full-red-table","color-bordered-table","red-bordered-table"]],template:function(t,o){1&t&&(e.YNc(0,Me,4,0,"div",0),e.YNc(1,Ye,4,0,"div",0),e.YNc(2,Oe,4,0,"div",0),e.TgZ(3,"div",1),e.YNc(4,Qe,15,1,"div",2),e.YNc(5,Ge,15,1,"div",2),e.YNc(6,Re,15,1,"div",2),e.qZA()),2&t&&(e.Q6J("ngIf",0===o.users.length),e.xp6(1),e.Q6J("ngIf",0===o.doctors.length),e.xp6(1),e.Q6J("ngIf",0===o.hospitals.length),e.xp6(2),e.Q6J("ngIf",o.users.length>0),e.xp6(1),e.Q6J("ngIf",o.doctors.length>0),e.xp6(1),e.Q6J("ngIf",o.hospitals.length>0))},directives:[u.O5,u.sg,p.yS],pipes:[C],encapsulation:2}),i})(),data:{title:"Searches"}},{path:"doctors",component:De,data:{title:"Doctors management"}},{path:"doctors/:id",component:He,data:{title:"Doctor details"}},{path:"hospitals",component:qe,data:{title:"Hospitals management"}},{path:"users",canActivate:[(()=>{class i{constructor(t,o){this.userService=t,this.router=o}canActivate(){return"ADMIN_ROLE"===this.userService.role||(console.log("Bloqueado por el ADMIN GUARD"),this.router.navigateByUrl("/dashboard"),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(U.K),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()],component:xe,data:{title:"Users management"}}];let Xe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),i})()}}]);